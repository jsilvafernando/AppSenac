<h1>{{ title }}</h1>

<div class="card">
  <div class="card-body">
    <form [formGroup]="form" novalidate>

      <div class="form-group">
        <label>Cursos</label>
        <select class="form-control" formControlName="courseKey" (change)="setCourseSelected($event.target.selectedOptions)">
          <option value="">- Escolha -</option>
          <option *ngFor="let course of courses | async" [value]="course.key">{{ course.data.name }}</option>
        </select>
        <div *ngIf="form.controls.courseKey.invalid && (form.controls.courseKey.dirty || form.controls.courseKey.touched)"
          class="text-danger">
          <div *ngIf="form.controls.courseKey.errors.required">
            O campo é obrigatório
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-control-label">Turma</label>
        <input type="text" class="form-control" formControlName="name" required />
        <div *ngIf="form.controls.name.invalid && (form.controls.name.dirty || form.controls.name.touched)" class="text-danger">
          <div *ngIf="form.controls.name.errors.required">
            O campo é obrigatório
          </div>
        </div>
      </div>


      <button class="btn btn-primary" type="button" (click)="onSubmit()" [disabled]="!form.valid">Salvar</button>
    </form>
  </div>
</div>

